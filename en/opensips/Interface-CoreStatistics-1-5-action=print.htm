<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head>
  <title>openSIPS | Documentation / Core Statistics - ver 1.5 </title>
  <link rel='stylesheet' href="print.css" tppabs="http://www.opensips.org/pub/skins/print/print.css" type='text/css' />
  <!--HTMLHeader--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
span.anchor {
	float: left;
	font-size: 10px;
	margin-left: -10px;
	width: 10px;
    position:relative; top:-0.1em;
	text-align: center;
}
span.anchor a { text-decoration: none; }
span.anchor a:hover { text-decoration: underline; }
ol.toc { text-indent:-20px; list-style: none; }
ol.toc ol.toc { text-indent:-40px; }
div.tocfloat { font-size: smaller; margin-bottom: 10px;
    border-top: 1px dotted #555555; border-bottom: 1px dotted #555555;
    padding-top: 5px; padding-bottom: 5px; 
    width: 38%; float: right; margin-left: 10px; clear: right;
    margin-right:-13px; padding-right: 13px; padding-left: 13px;
    background-color: #eeeeee; }
div.toc { font-size: smaller; 
    padding: 4px; border: 1px dotted #cccccc;
    background: #f7f7f7;
    margin-bottom: 10px; }
  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }
 
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style><script type="text/javascript">
function toggle(obj) {
    var elstyle = document.getElementById(obj).style;
    var text    = document.getElementById(obj + "tog");
    if (elstyle.display == 'none') {
        elstyle.display = 'block';
        text.innerHTML = "hide";
    } else {
        elstyle.display = 'none';
        text.innerHTML = "show";
    }
}
</script>
  <link href="commentboxplus.css" tppabs="http://www.opensips.org/pub/commentboxplus/commentboxplus.css" rel='stylesheet' type='text/css' />
  <link rel='stylesheet' href="wsplus.css" tppabs="http://www.opensips.org/pub/wsplus/wsplus.css" 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url("csshover.htc")/*tpa=http://www.opensips.org/pub/wsplus/csshover.htc*/; }
    .rollover * { visibility: visible; }
  </style><![endif]-->
  <meta name='robots' content='noindex,nofollow' />

</head>
<body>
  <div id='printhead'>
    <h3>From openSIPS</h3>
    <h1 class='pagename'><a href="javascript:if(confirm(%27http://www.opensips.org/Documentation  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Documentation%27" tppabs="http://www.opensips.org/Documentation">Documentation: Core Statistics - ver 1.5 </a></h1>
  </div>
<!--PageText-->
<div id='wikitext'>
<h5>Documentation -&gt; <a class='wikilink' href="Manuals-action=print.htm" tppabs="http://www.opensips.org/Documentation/Manuals?action=print">Manuals</a> -&gt; <a class='wikilink' href="Manual-1-5-action=print.htm" tppabs="http://www.opensips.org/Documentation/Manual-1-5?action=print">Manual 1.5</a> -&gt; Core Statistics</h5>
<hr />
<p><span style='font-size:83%'> Pages for other versions: <a class='wikilink' href="javascript:if(confirm(%27http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=print  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=print%27" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=print">devel</a> <a class='wikilink' href="Interface-CoreStatistics-2-1-action=print.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-2-1?action=print">2.1</a> <a class='wikilink' href="Interface-CoreStatistics-1-11-action=print.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-1-11?action=print">1.11</a>  Older versions: <a class='wikilink' href="Interface-CoreStatistics-1-10-action=print.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-1-10?action=print">1.10</a> <a class='wikilink' href="Interface-CoreStatistics-1-9-action=print.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-1-9?action=print">1.9</a> <a class='wikilink' href="Interface-CoreStatistics-1-8-action=print.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-1-8?action=print">1.8</a> <a class='wikilink' href="Interface-CoreStatistics-1-7-action=print.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-1-7?action=print">1.7</a> <a class='wikilink' href="Interface-CoreStatistics-1-6-action=print.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-1-6?action=print">1.6</a> 1.5 <a class='wikilink' href="Interface-CoreStatistics-1-4-action=print.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-1-4?action=print">1.4</a> </span>
<br />
</p><table width='100%'><tr ><td  align='center'><span  style='color: #185662;'><span style='font-size:120%'><strong>Core Statistics v1.5</strong></span></span></td></tr>
</table>
<div class='vspace'></div><table width='100%'><tr ><td  align='left'><a class='wikilink' href="Interface-Statistics-1-5-action=print.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-1-5?action=print">Prev</a></td><td  align='right'></td></tr>
</table><hr />
<div class='vspace'></div><div class='tocfloat'><p><a name='toc' id='toc'></a><b>Table of Content</b> (<a id="tocidtog" href="javascript:toggle('tocid');">hide</a>)</p><ol class='toc' id='tocid'><li>1.&nbsp;<a href='#toc1'>"CORE" Class</a><ol class='toc'><li>1.1&nbsp;<a href='#toc2'>rcv_requests</a></li><li>1.2&nbsp;<a href='#toc3'>rcv_replies</a></li><li>1.3&nbsp;<a href='#toc4'>fwd_requests</a></li><li>1.4&nbsp;<a href='#toc5'>fwd_replies</a></li><li>1.5&nbsp;<a href='#toc6'>drop_requests</a></li><li>1.6&nbsp;<a href='#toc7'>drop_replies</a></li><li>1.7&nbsp;<a href='#toc8'>err_requests</a></li><li>1.8&nbsp;<a href='#toc9'>err_replies</a></li><li>1.9&nbsp;<a href='#toc10'>bad_URIs_rcvd</a></li><li>1.10&nbsp;<a href='#toc11'>unsupported_methods</a></li><li>1.11&nbsp;<a href='#toc12'>bad_msg_hdr</a></li></ol></li><li>2.&nbsp;<a href='#toc13'>"SHMEM" Class</a><ol class='toc'><li>2.1&nbsp;<a href='#toc14'>total_size</a></li><li>2.2&nbsp;<a href='#toc15'>used_size</a></li><li>2.3&nbsp;<a href='#toc16'>real_used_size</a></li><li>2.4&nbsp;<a href='#toc17'>max_used_size</a></li><li>2.5&nbsp;<a href='#toc18'>free_size</a></li><li>2.6&nbsp;<a href='#toc19'>fragments</a></li></ol></li></ol></div>
<p class='vspace'>Statistics which are exported by the <strong>OpenSIPS</strong> core.
</p>
<div class='vspace'></div><hr />
<h3><a name='toc1' id='toc1'></a>1.&nbsp; "CORE" Class</h3>
<h4><a name='toc2' id='toc2'></a>1.1&nbsp;rcv_requests</h4>
<p>Returns the total number of received requests by OpenSIPS.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics rcv_requests

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of received requests = $stat(rcv_requests) \n");

</pre>
<div class='vspace'></div><h4><a name='toc3' id='toc3'></a>1.2&nbsp;rcv_replies</h4>
<p>Returns the total number of received replies by OpenSIPS.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics rcv_replies

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of received replies = $stat(rcv_replies) \n");

</pre>
<div class='vspace'></div><h4><a name='toc4' id='toc4'></a>1.3&nbsp;fwd_requests</h4>
<p>Returns the number of stateless forwarded requests by OpenSIPS.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics fwd_requests

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of forwarded requests = $stat(fwd_requests) \n");

</pre>
<div class='vspace'></div><h4><a name='toc5' id='toc5'></a>1.4&nbsp;fwd_replies</h4>
<p>Returns the number of stateless forwarded replies by OpenSIPS.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics fwd_replies

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of forwarded replies = $stat(fwd_replies) \n");

</pre>
<div class='vspace'></div><h4><a name='toc6' id='toc6'></a>1.5&nbsp;drop_requests</h4>
<p>Returns the number of requests dropped even before entering the script routing logic.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics drop_requests

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of dropped requests = $stat(drop_requests) \n");

</pre>
<div class='vspace'></div><h4><a name='toc7' id='toc7'></a>1.6&nbsp;drop_replies</h4>
<p>Returns the number of replies dropped even before entering the script routing logic, or explicitly dropped in the
onreply_route.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics drop_replies

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of dropped replies = $stat(drop_replies) \n");

</pre>
<div class='vspace'></div><h4><a name='toc8' id='toc8'></a>1.7&nbsp;err_requests</h4>
<p>Returns the number of bogus requests from SIP point of view ( eg. : No VIA header found )
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics err_requests

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of error requests = $stat(err_requests) \n");

</pre>
<div class='vspace'></div><h4><a name='toc9' id='toc9'></a>1.8&nbsp;err_replies</h4>
<p>Returns the number of bogus replies from SIP point of view ( eg. : No VIA header found )
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics err_replies

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of error replies = $stat(err_replies) \n");

</pre>
<div class='vspace'></div><h4><a name='toc10' id='toc10'></a>1.9&nbsp;bad_URIs_rcvd</h4>
<p>Returns the number of URIs that OpenSIPS failed to parse.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics bad_URIs_rcvd

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of bad URIs detected = $stat(bad_URIs_rcvd) \n");

</pre>
<div class='vspace'></div><h4><a name='toc11' id='toc11'></a>1.10&nbsp;unsupported_methods</h4>
<p>Returns the number of non-standard methods encountered by OpenSIPS while parsing SIP methods.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics unsupported_methods

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of unsupported methods detected = $stat(unsupported_methods) \n");

</pre>
<div class='vspace'></div><h4><a name='toc12' id='toc12'></a>1.11&nbsp;bad_msg_hdr</h4>
<p>Returns the number of SIP headers that OpenSIPS failed to parse.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics bad_msg_hdr
</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of headers that failed to parse = $stat(bad_msg_hdr) \n");

</pre>
<div class='vspace'></div><hr />
<h3><a name='toc13' id='toc13'></a>2.&nbsp; "SHMEM" Class</h3>
<p>Statistics giving information on the shared memory that OpenSIPS is using.
</p>
<div class='vspace'></div><h4><a name='toc14' id='toc14'></a>2.1&nbsp;total_size</h4>
<p>Returns the total size of shared memory available to OpenSIPS processes.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics total_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total size of SHMEM available is $stat(total_size) \n");

</pre>
<div class='vspace'></div><h4><a name='toc15' id='toc15'></a>2.2&nbsp;used_size</h4>
<p>Returns the amount of shared memory requested and used by OpenSIPS processes.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics used_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("SHMEM in use = $stat(used_size) \n");

</pre>
<div class='vspace'></div><h4><a name='toc16' id='toc16'></a>2.3&nbsp;real_used_size</h4>
<p>Returns the amount of shared memory requested by OpenSIPS processes + malloc overhead
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics real_used_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Real SHMEM used size is $stat(real_used_size) \n");

</pre>
<div class='vspace'></div><h4><a name='toc17' id='toc17'></a>2.4&nbsp;max_used_size</h4>
<p>Returns the maximum amount of shared memory ever used by OpenSIPS processes.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics max_used_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("The max SHMEM ever used is $stat(max_used_size) \n");

</pre>
<div class='vspace'></div><h4><a name='toc18' id='toc18'></a>2.5&nbsp;free_size</h4>
<p>Returns the free memory available. Computed as total_size - real_used_size
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics free_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Free SHMEM available is $stat(free_size) \n");

</pre>
<div class='vspace'></div><h4><a name='toc19' id='toc19'></a>2.6&nbsp;fragments</h4>
<p>Returns the total number of fragments in the shared memory.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics fragments

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("The total number of SHMEM fragments is $stat(fragments) \n");

</pre>
</div>

  <div id='printfoot'>
    <div class='from'>Retrieved from http://www.opensips.org/Documentation/Interface-CoreStatistics-1-5</div>
    <div class='lastmod'>Page last modified on August 05, 2013, at 03:32 PM</div></div>
<!--HTMLFooter-->
</body>
</html>
