<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title>openSIPS | Documentation / Core Statistics - devel | History</title>
  <meta http-equiv='Content-Style-Type' content='text/css' />
  <link rel='stylesheet' href="opensips.css" tppabs="http://www.opensips.org/pub/skins/opensips/opensips.css" type='text/css' />
  <!--HTMLHeader--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
span.anchor {
	float: left;
	font-size: 10px;
	margin-left: -10px;
	width: 10px;
    position:relative; top:-0.1em;
	text-align: center;
}
span.anchor a { text-decoration: none; }
span.anchor a:hover { text-decoration: underline; }
ol.toc { text-indent:-20px; list-style: none; }
ol.toc ol.toc { text-indent:-40px; }
div.tocfloat { font-size: smaller; margin-bottom: 10px;
    border-top: 1px dotted #555555; border-bottom: 1px dotted #555555;
    padding-top: 5px; padding-bottom: 5px; 
    width: 38%; float: right; margin-left: 10px; clear: right;
    margin-right:-13px; padding-right: 13px; padding-left: 13px;
    background-color: #eeeeee; }
div.toc { font-size: smaller; 
    padding: 4px; border: 1px dotted #cccccc;
    background: #f7f7f7;
    margin-bottom: 10px; }
  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  .diffbox { width:570px; border-left:1px #999999 solid; margin-top:1.33em; }
  .diffauthor { font-weight:bold; }
  .diffchangesum { font-weight:bold; }
  .difftime { font-family:verdana,sans-serif; font-size:66%; 
    background-color:#dddddd; }
  .difftype { clear:both; font-family:verdana,sans-serif; 
    font-size:66%; font-weight:bold; }
  .diffadd { border-left:5px #99ff99 solid; padding-left:5px; }
  .diffdel { border-left:5px #ffff99 solid; padding-left:5px; }
  .diffrestore { clear:both; font-family:verdana,sans-serif; 
    font-size:66%; margin:1.5em 0px; }
  .diffmarkup { font-family:monospace; }  
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style><script type="text/javascript">
function toggle(obj) {
    var elstyle = document.getElementById(obj).style;
    var text    = document.getElementById(obj + "tog");
    if (elstyle.display == 'none') {
        elstyle.display = 'block';
        text.innerHTML = "hide";
    } else {
        elstyle.display = 'none';
        text.innerHTML = "show";
    }
}
</script>
  <link href="commentboxplus.css" tppabs="http://www.opensips.org/pub/commentboxplus/commentboxplus.css" rel='stylesheet' type='text/css' />
  <link rel='stylesheet' href="wsplus.css" tppabs="http://www.opensips.org/pub/wsplus/wsplus.css" 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url("csshover.htc")/*tpa=http://www.opensips.org/pub/wsplus/csshover.htc*/; }
    .rollover * { visibility: visible; }
  </style><![endif]-->
  <meta name='robots' content='noindex,nofollow' />

  <link rel="icon" type="image/png" href="http://opensips.org/favicon.png">
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','analytics.js'/*tpa=http://www.google-analytics.com/analytics.js*/,'ga');

  ga('create', 'UA-47615177-1', 'http://www.opensips.org/Documentation/opensips.org');
  ga('send', 'pageview');

	function resizeIframe(obj) {
	    obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
		  }

  </script>

</head>
<body>
<div id="main">
<!--PageHeaderFmt-->
  <div id='wikilogo'>
  <img class="motto" src="motto.jpg" tppabs="http://www.opensips.org/pub/skins/opensips/images/motto.jpg" width="328" height="40" alt="The new breed of communication engine.">
  <a href="javascript:if(confirm(%27http://www.opensips.org/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/%27" tppabs="http://www.opensips.org/"><img class="logo" src="logo2.jpg" tppabs="http://www.opensips.org/pub/skins/opensips/images/logo2.jpg"
    alt='openSIPS' border='0' /></a>
 </div>
 <div id='wikihead'>
 <table border=0>
  <tr valign=top><td width=250>
   
  </td></tr>
  <tr><td width=250>
   <form action="http://www.opensips.org/">
   
    <input type='hidden' name='n' value='Documentation.Interface-CoreStatistics-2-2' />
    <input type='hidden' name='action' value='search' />

    <input type='text' name='q' id='formsubmit' value='' class='inputbox searchbox' />
	<input type='submit' id='formbutton' class='inputbutton searchbutton' value=' ' /></form>
  </td></tr>
  </table>
 </div>

<!--/PageHeaderFmt-->
<div id="osTopNav" >
	<div id="osTopNavLeft">
	</div>

	<div id="osTopNavRight">
	</div>

	<ul id="osTopNavList">
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/About/About  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/About/About%27" tppabs="http://www.opensips.org/About/About" title="About">About</a>
		</li>
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/Downloads/Downloads  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Downloads/Downloads%27" tppabs="http://www.opensips.org/Downloads/Downloads" title="Download">Downloads</a>
		</li>
		<li>
			<a href="Manuals.htm" tppabs="http://www.opensips.org/Documentation/Manuals" title="Documentation">Documentation</a>
		</li>
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/Community/Foundation-Main  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Community/Foundation-Main%27" tppabs="http://www.opensips.org/Community/Foundation-Main" title="Community">Community</a>
		</li>
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/Development/Development  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Development/Development%27" tppabs="http://www.opensips.org/Development/Development" title="Development">Development</a>
		</li>
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/Support/Contact  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Support/Contact%27" tppabs="http://www.opensips.org/Support/Contact" title="Support">Support</a>
		</li>
	</ul>
</div>
<!--PageMenuFmt-->
<!--/PageMenuFmt-->
  <table width='100%' align="center" cellpadding='0' cellspacing='0' id='wikimid'>
    <tr>
<!--PageLeftFmt-->
      <td valign='top' bgcolor="#E2F8DA" id='wikileft'>
        <p class='sidehead'> <span  style='color: #185662;'> Documentation</span>
</p><ul><li><a class='wikilink' title='Manuals' href="Manuals.htm" tppabs="http://www.opensips.org/Documentation/Manuals">Manuals</a>
</li><li><a class='wikilink' title='Tutorials' href="Tutorials.htm" tppabs="http://www.opensips.org/Documentation/Tutorials">Advanced Tutorials</a>
</li><li><a class='wikilink' title='TipsFAQ' href="TipsFAQ.htm" tppabs="http://www.opensips.org/Documentation/TipsFAQ">Tips &amp; FAQ</a>
</li><li><a class='wikilink' title='Migration' href="Migration.htm" tppabs="http://www.opensips.org/Documentation/Migration">Version Migration</a>
</li><li><a class='wikilink' title='Webinars' href="Webinars.htm" tppabs="http://www.opensips.org/Documentation/Webinars">OpenSIPS Webinars</a>
</li><li><a class='wikilink' title='Troubleshooting' href="Troubleshooting.htm" tppabs="http://www.opensips.org/Documentation/Troubleshooting">Troubleshooting</a>
</li><li><a class='wikilink' title='Tools' href="Tools.htm" tppabs="http://www.opensips.org/Documentation/Tools">OpenSIPS Tools</a>
</li><li><a class='wikilink' title='Development-Tutorials' href="Development-Tutorials.htm" tppabs="http://www.opensips.org/Documentation/Development-Tutorials">Devel Tutorial</a>
</li></ul><div class='vspace'></div>
</td>
<!--/PageLeftFmt-->
      <td id='wikibody' valign='top'>
<!--PageTitleFmt-->
        
<!--PageText-->
<div id='wikitext'>
<h2 class='wikiaction'>Documentation.Interface-CoreStatistics-2-2 History</h2>
  <p><a href="Interface-CoreStatistics-2-2-action=diff&source=n&minor=n.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=diff&source=n&minor=n">Hide minor edits</a> - <a href="Interface-CoreStatistics-2-2-action=diff&source=y&minor=y.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=diff&source=y&minor=y">Show changes to markup</a></p>
  <div id='wikidiff'>
      <div class='diffbox'><div class='difftime'>July 09, 2014, at 12:51 PM 
        by <span class='diffauthor' title='89.120.101.121'>liviu</span> - </div>
        <div class='difftype'>Changed line 454 from:</div>
        <div class='diffdel'><p>Returns the free private memory available. Computed as total_size - real_used_size
</p>
</div>
        <div class='difftype'>to:</div>
        <div class='diffadd'><p>Returns the free private memory available for OpenSIPS process #N. Computed as total_size - real_used_size
</p>
</div></div>
      <div class='diffrestore'><a href="Interface-CoreStatistics-2-2-action=edit&restore=diff-1404903100-1404903033-&preview=y.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=edit&restore=diff:1404903100:1404903033:&preview=y">Restore</a></div>
      <div class='diffbox'><div class='difftime'>July 09, 2014, at 12:50 PM 
        by <span class='diffauthor' title='89.120.101.121'>liviu</span> - </div>
        <div class='difftype'>Changed lines 468-469 from:</div>
        <div class='diffdel'><h4>0-fragments</h4>
<p>Returns the currently available number of free fragments in the private memory.
</p>
</div>
        <div class='difftype'>to:</div>
        <div class='diffadd'><h4>N-fragments</h4>
<p>Returns the currently available number of free fragments in the private memory for OpenSIPS process #N.
</p>
</div></div>
      <div class='diffrestore'><a href="Interface-CoreStatistics-2-2-action=edit&restore=diff-1404903033-1404903005-&preview=y.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=edit&restore=diff:1404903033:1404903005:&preview=y">Restore</a></div>
      <div class='diffbox'><div class='difftime'>July 09, 2014, at 12:50 PM 
        by <span class='diffauthor' title='89.120.101.121'>liviu</span> - </div>
        <div class='difftype'>Changed lines 15-16 from:</div>
        <div class='diffdel'><p>Statistics which are exported by the <strong>OpenSIPS</strong> core.
</p>
</div>
        <div class='difftype'>to:</div>
        <div class='diffadd'><p>The <strong>OpenSIPS</strong> core exports several statistics, which are grouped into <strong>classes</strong>. To view all statistics which correspond to a class, fetch the "class:" statistic (e.g. <strong>opensipsctl fifo get_statistic load: core: shmem:</strong>)
</p>
</div>
        <div class='difftype'>Changed lines 18-19 from:</div>
        <div class='diffdel'><h3>"CORE" Class</h3>
</div>
        <div class='difftype'>to:</div>
        <div class='diffadd'><h3>"CORE" class</h3>
</div>
        <div class='difftype'>Changed lines 244-245 from:</div>
        <div class='diffdel'><h3>"NET" Class</h3>
</div>
        <div class='difftype'>to:</div>
        <div class='diffadd'><h3>"NET" class</h3>
</div>
        <div class='difftype'>Changed lines 294-295 from:</div>
        <div class='diffdel'><h3>"SHMEM" Class</h3>
</div>
        <div class='difftype'>to:</div>
        <div class='diffadd'><h3>"SHMEM" class</h3>
</div>
        <div class='difftype'>Added lines 385-479:</div>
        <div class='diffadd'><p>@]
</p>
<div class='vspace'></div><hr />
<h3>"PKMEM" class</h3>
<p>Various private memory related statistics for each OpenSIPS process. Each "PKMEM" statistic is prefixed by a number, representing the index of an OpenSIPS process (0, 1, ...).
</p>
<div class='vspace'></div><h4>N-total_size</h4>
<p>Returns the total size of private memory available to OpenSIPS process #N.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics 0-total_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total size of PKG memory available for process #0 is $stat(0-total_size) \n");

</pre>
<div class='vspace'></div><h4>N-used_size</h4>
<p>Returns the amount of private memory requested and used by OpenSIPS process #N.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics 0-used_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("PKG mem in use for process #1 = $stat(1-used_size) \n");

</pre>
<div class='vspace'></div><h4>N-real_used_size</h4>
<p>Returns the amount of private memory requested by OpenSIPS process #N, including allocator-specific metadata
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics 0-real_used_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Process #0 actually uses $stat(0-real_used_size) bytes of private memory\n");

</pre>
<div class='vspace'></div><h4>N-max_used_size</h4>
<p>Returns the maximum amount of private memory ever used by OpenSIPS process #N.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics 0-max_used_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("The max PKG memory ever used for process #0 is $stat(0-max_used_size) \n");

</pre>
<div class='vspace'></div><h4>N-free_size</h4>
<p>Returns the free private memory available. Computed as total_size - real_used_size
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics 0-free_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Free PKG memory available for process #0 is $stat(0-free_size) \n");

</pre>
<div class='vspace'></div><h4>0-fragments</h4>
<p>Returns the currently available number of free fragments in the private memory.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics 0-fragments

</pre>
<p class='vspace'>Example of usage from script
[@
xlog("The total number of PKG fragments is $stat(0-fragments) \n");
</p>
</div></div>
      <div class='diffrestore'><a href="Interface-CoreStatistics-2-2-action=edit&restore=diff-1404903005-1395341992-&preview=y.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=edit&restore=diff:1404903005:1395341992:&preview=y">Restore</a></div>
      <div class='diffbox'><div class='difftime'>March 20, 2014, at 07:59 PM 
        by <span class='diffauthor' title='89.120.101.121'>razvancrainea</span> - </div>
        <div class='difftype'>Added lines 1-386:</div>
        <div class='diffadd'><h5>Documentation -&gt; <a class='wikilink' title='Manuals' href="Manuals.htm" tppabs="http://www.opensips.org/Documentation/Manuals">Manuals</a> -&gt; <a class='wikilink' title='OpenSIPS Manual - 2.2' href="Manual-2-2.htm" tppabs="http://www.opensips.org/Documentation/Manual-2-2">Manual devel</a> -&gt; Core Statistics</h5>
<p>(:title Core Statistics - 2.2:)
</p><hr />
<p>(:allVersions Interface-CoreStatistics 2.2:)
</p>
<p class='vspace'><br />
</p><table width='100%'><tr ><td  align='center'><span  style='color: #185662;'><span style='font-size:120%'><strong>Core Statistics v2.2 </strong></span></span></td></tr>
</table>
<div class='vspace'></div><table width='100%'><tr ><td  align='left'><a class='wikilink' title='Statistics Interface - devel' href="Interface-Statistics-2-2.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-2-2">Prev</a></td><td  align='right'><a class='wikilink' title='Binary Internal Interface - devel' href="Interface-Binary-2-2.htm" tppabs="http://www.opensips.org/Documentation/Interface-Binary-2-2">Next</a></td></tr>
</table><hr />
<p class='vspace'>(:toc-float Table of Content:)
</p>
<p class='vspace'>Statistics which are exported by the <strong>OpenSIPS</strong> core.
</p>
<div class='vspace'></div><hr />
<h3>"CORE" Class</h3>
<h4>rcv_requests</h4>
<p>Returns the total number of received requests by OpenSIPS.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics rcv_requests

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of received requests = $stat(rcv_requests) \n");

</pre>
<div class='vspace'></div><h4>rcv_replies</h4>
<p>Returns the total number of received replies by OpenSIPS.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics rcv_replies

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of received replies = $stat(rcv_replies) \n");

</pre>
<div class='vspace'></div><h4>fwd_requests</h4>
<p>Returns the number of stateless forwarded requests by OpenSIPS.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics fwd_requests

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of forwarded requests = $stat(fwd_requests) \n");

</pre>
<div class='vspace'></div><h4>fwd_replies</h4>
<p>Returns the number of stateless forwarded replies by OpenSIPS.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics fwd_replies

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of forwarded replies = $stat(fwd_replies) \n");

</pre>
<div class='vspace'></div><h4>drop_requests</h4>
<p>Returns the number of requests dropped even before entering the script routing logic.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics drop_requests

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of dropped requests = $stat(drop_requests) \n");

</pre>
<div class='vspace'></div><h4>drop_replies</h4>
<p>Returns the number of replies dropped even before entering the script routing logic, or explicitly dropped in the
onreply_route.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics drop_replies

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of dropped replies = $stat(drop_replies) \n");

</pre>
<div class='vspace'></div><h4>err_requests</h4>
<p>Returns the number of bogus requests from SIP point of view ( eg. : No VIA header found )
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics err_requests

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of error requests = $stat(err_requests) \n");

</pre>
<div class='vspace'></div><h4>err_replies</h4>
<p>Returns the number of bogus replies from SIP point of view ( eg. : No VIA header found )
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics err_replies

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of error replies = $stat(err_replies) \n");

</pre>
<div class='vspace'></div><h4>bad_URIs_rcvd</h4>
<p>Returns the number of URIs that OpenSIPS failed to parse.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics bad_URIs_rcvd

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of bad URIs detected = $stat(bad_URIs_rcvd) \n");

</pre>
<div class='vspace'></div><h4>unsupported_methods</h4>
<p>Returns the number of non-standard methods encountered by OpenSIPS while parsing SIP methods.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics unsupported_methods

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of unsupported methods detected = $stat(unsupported_methods) \n");

</pre>
<div class='vspace'></div><h4>bad_msg_hdr</h4>
<p>Returns the number of SIP headers that OpenSIPS failed to parse.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics bad_msg_hdr
</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total number of headers that failed to parse = $stat(bad_msg_hdr) \n");

</pre>
<div class='vspace'></div><h4>timestamp</h4>
<p>Returns the number of seconds elapsed from OpenSIPS starting.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics timestamp
</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("OpenSIPS has been alive for $stat(timestamp) seconds \n");

</pre>
<div class='vspace'></div><hr />
<h3>"LOAD" class</h3>
<p>Statistics giving information on OpenSIPS load (busy children).
</p>
<div class='vspace'></div><h4>tcp-load</h4>
<p>Returns the percentage of TCP children that are awake and processing SIP messages.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics tcp-load

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("The TCP load is $stat(tcp-load) \n");

</pre>
<div class='vspace'></div><h4>udp:int_ip:int_port-load</h4>
<p>Returns the percentage of UDP children that are awake and processing SIP messages on the specific UDP interface
</p>
<p class='vspace'>Example of usage through MI FIFO:
</p><pre class='escaped'>
If OpenSIPS has two listen directives :
listen=udp:192.268.2.234:5060
listen=udp:192.268.10.13:5090

Then there will be two exported statistics, udp:192.268.2.234:5060-load and udp:192.268.10.13:5090-load, and each 
will show the percentage of working children on the respective interfaces.

opensipsctl fifo get_statistics udp:192.268.2.234:5060-load

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("The UDP load on 192.268.2.234:5060 is $stat(udp:192.268.2.234:5060-load) \n");

</pre>
<div class='vspace'></div><hr />
<h3>"NET" Class</h3>
<p>Statistics giving information about UDP, TCP and TLS buffers on interfaces that OpenSIPS is listening on.
</p>
<div class='vspace'></div><h4>waiting_udp</h4>
<p>Returns the number of bytes waiting to be consumed on UDP interfaces that OpenSIPS is listening on.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics waiting_udp

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("The UDP waiting buffer size is $stat(waiting_udp) \n");

</pre>
<div class='vspace'></div><h4>waiting_tcp</h4>
<p>Returns the number of bytes waiting to be consumed on TCP interfaces that OpenSIPS is listening on.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics waiting_tcp

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("The TCP waiting buffer size is $stat(waiting_tcp) \n");

</pre>
<div class='vspace'></div><h4>waiting_tls</h4>
<p>Returns the number of bytes waiting to be consumed on TLS interfaces that OpenSIPS is listening on.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics waiting_tls

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("The TLS waiting buffer size is $stat(waiting_tls) \n");

</pre>
<div class='vspace'></div><hr />
<h3>"SHMEM" Class</h3>
<p>Statistics giving information on the shared memory that OpenSIPS is using.
</p>
<div class='vspace'></div><h4>total_size</h4>
<p>Returns the total size of shared memory available to OpenSIPS processes.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics total_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Total size of SHMEM available is $stat(total_size) \n");

</pre>
<div class='vspace'></div><h4>used_size</h4>
<p>Returns the amount of shared memory requested and used by OpenSIPS processes.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics used_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("SHMEM in use = $stat(used_size) \n");

</pre>
<div class='vspace'></div><h4>real_used_size</h4>
<p>Returns the amount of shared memory requested by OpenSIPS processes + malloc overhead
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics real_used_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Real SHMEM used size is $stat(real_used_size) \n");

</pre>
<div class='vspace'></div><h4>max_used_size</h4>
<p>Returns the maximum amount of shared memory ever used by OpenSIPS processes.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics max_used_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("The max SHMEM ever used is $stat(max_used_size) \n");

</pre>
<div class='vspace'></div><h4>free_size</h4>
<p>Returns the free memory available. Computed as total_size - real_used_size
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics free_size

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("Free SHMEM available is $stat(free_size) \n");

</pre>
<div class='vspace'></div><h4>fragments</h4>
<p>Returns the total number of fragments in the shared memory.
</p>
<p class='vspace'>Example of usage through MI FIFO
</p><pre class='escaped'>
opensipsctl fifo get_statistics fragments

</pre>
<p class='vspace'>Example of usage from script
</p><pre class='escaped'>
xlog("The total number of SHMEM fragments is $stat(fragments) \n");

</pre>
</div></div>
      <div class='diffrestore'><a href="Interface-CoreStatistics-2-2-action=edit&restore=diff-1395341992-1395341992-&preview=y.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=edit&restore=diff:1395341992:1395341992:&preview=y">Restore</a></div></div></div>
  
<!--PageRightFmt--><!--/PageRightFmt--></td>
</tr></table>
<!--PageFooterFmt-->
  <div id='wikifoot'>
  <hr class="bottomline" /></td>
    <div class='footnav'>
	
      <a rel="nofollow" href="Interface-CoreStatistics-2-2-action=edit.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=edit">Edit</a> |
      <a rel="nofollow" href="Interface-CoreStatistics-2-2-action=diff.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=diff">History</a> |
      <a rel="nofollow" href="javascript:if(confirm(%27http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=print  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=print%27" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-2-2?action=print" target='_blank'>Print</a> |
      <a href="RecentChanges.htm" tppabs="http://www.opensips.org/Documentation/RecentChanges">Recent Changes</a> |
      <a href="javascript:if(confirm(%27http://www.opensips.org/Site/Search  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Site/Search%27" tppabs="http://www.opensips.org/Site/Search">Search</a></div>
    <div class='lastmod'>Page last modified on July 09, 2014, at 12:51 PM</div></div>
<!--HTMLFooter-->
</div>
</body>
</html>
