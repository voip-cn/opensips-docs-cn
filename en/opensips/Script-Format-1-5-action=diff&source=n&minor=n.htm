<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title>openSIPS | Documentation / Script Format - ver 1.5 | History</title>
  <meta http-equiv='Content-Style-Type' content='text/css' />
  <link rel='stylesheet' href="opensips.css" tppabs="http://www.opensips.org/pub/skins/opensips/opensips.css" type='text/css' />
  <!--HTMLHeader--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
span.anchor {
	float: left;
	font-size: 10px;
	margin-left: -10px;
	width: 10px;
    position:relative; top:-0.1em;
	text-align: center;
}
span.anchor a { text-decoration: none; }
span.anchor a:hover { text-decoration: underline; }
ol.toc { text-indent:-20px; list-style: none; }
ol.toc ol.toc { text-indent:-40px; }
div.tocfloat { font-size: smaller; margin-bottom: 10px;
    border-top: 1px dotted #555555; border-bottom: 1px dotted #555555;
    padding-top: 5px; padding-bottom: 5px; 
    width: 38%; float: right; margin-left: 10px; clear: right;
    margin-right:-13px; padding-right: 13px; padding-left: 13px;
    background-color: #eeeeee; }
div.toc { font-size: smaller; 
    padding: 4px; border: 1px dotted #cccccc;
    background: #f7f7f7;
    margin-bottom: 10px; }
  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  .diffbox { width:570px; border-left:1px #999999 solid; margin-top:1.33em; }
  .diffauthor { font-weight:bold; }
  .diffchangesum { font-weight:bold; }
  .difftime { font-family:verdana,sans-serif; font-size:66%; 
    background-color:#dddddd; }
  .difftype { clear:both; font-family:verdana,sans-serif; 
    font-size:66%; font-weight:bold; }
  .diffadd { border-left:5px #99ff99 solid; padding-left:5px; }
  .diffdel { border-left:5px #ffff99 solid; padding-left:5px; }
  .diffrestore { clear:both; font-family:verdana,sans-serif; 
    font-size:66%; margin:1.5em 0px; }
  .diffmarkup { font-family:monospace; }  
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style><script type="text/javascript">
function toggle(obj) {
    var elstyle = document.getElementById(obj).style;
    var text    = document.getElementById(obj + "tog");
    if (elstyle.display == 'none') {
        elstyle.display = 'block';
        text.innerHTML = "hide";
    } else {
        elstyle.display = 'none';
        text.innerHTML = "show";
    }
}
</script>
  <link href="commentboxplus.css" tppabs="http://www.opensips.org/pub/commentboxplus/commentboxplus.css" rel='stylesheet' type='text/css' />
  <link rel='stylesheet' href="wsplus.css" tppabs="http://www.opensips.org/pub/wsplus/wsplus.css" 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url("csshover.htc")/*tpa=http://www.opensips.org/pub/wsplus/csshover.htc*/; }
    .rollover * { visibility: visible; }
  </style><![endif]-->
  <meta name='robots' content='noindex,nofollow' />

  <link rel="icon" type="image/png" href="http://opensips.org/favicon.png">
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','analytics.js'/*tpa=http://www.google-analytics.com/analytics.js*/,'ga');

  ga('create', 'UA-47615177-1', 'http://www.opensips.org/Documentation/opensips.org');
  ga('send', 'pageview');

	function resizeIframe(obj) {
	    obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
		  }

  </script>

</head>
<body>
<div id="main">
<!--PageHeaderFmt-->
  <div id='wikilogo'>
  <img class="motto" src="motto.jpg" tppabs="http://www.opensips.org/pub/skins/opensips/images/motto.jpg" width="328" height="40" alt="The new breed of communication engine.">
  <a href="javascript:if(confirm(%27http://www.opensips.org/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/%27" tppabs="http://www.opensips.org/"><img class="logo" src="logo2.jpg" tppabs="http://www.opensips.org/pub/skins/opensips/images/logo2.jpg"
    alt='openSIPS' border='0' /></a>
 </div>
 <div id='wikihead'>
 <table border=0>
  <tr valign=top><td width=250>
   
  </td></tr>
  <tr><td width=250>
   <form action="http://www.opensips.org/">
   
    <input type='hidden' name='n' value='Documentation.Script-Format-1-5' />
    <input type='hidden' name='action' value='search' />

    <input type='text' name='q' id='formsubmit' value='' class='inputbox searchbox' />
	<input type='submit' id='formbutton' class='inputbutton searchbutton' value=' ' /></form>
  </td></tr>
  </table>
 </div>

<!--/PageHeaderFmt-->
<div id="osTopNav" >
	<div id="osTopNavLeft">
	</div>

	<div id="osTopNavRight">
	</div>

	<ul id="osTopNavList">
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/About/About  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/About/About%27" tppabs="http://www.opensips.org/About/About" title="About">About</a>
		</li>
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/Downloads/Downloads  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Downloads/Downloads%27" tppabs="http://www.opensips.org/Downloads/Downloads" title="Download">Downloads</a>
		</li>
		<li>
			<a href="Manuals.htm" tppabs="http://www.opensips.org/Documentation/Manuals" title="Documentation">Documentation</a>
		</li>
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/Community/Foundation-Main  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Community/Foundation-Main%27" tppabs="http://www.opensips.org/Community/Foundation-Main" title="Community">Community</a>
		</li>
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/Development/Development  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Development/Development%27" tppabs="http://www.opensips.org/Development/Development" title="Development">Development</a>
		</li>
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/Support/Contact  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Support/Contact%27" tppabs="http://www.opensips.org/Support/Contact" title="Support">Support</a>
		</li>
	</ul>
</div>
<!--PageMenuFmt-->
<!--/PageMenuFmt-->
  <table width='100%' align="center" cellpadding='0' cellspacing='0' id='wikimid'>
    <tr>
<!--PageLeftFmt-->
      <td valign='top' bgcolor="#E2F8DA" id='wikileft'>
        <p class='sidehead'> <span  style='color: #185662;'> Documentation</span>
</p><ul><li><a class='wikilink' title='Manuals' href="Manuals.htm" tppabs="http://www.opensips.org/Documentation/Manuals">Manuals</a>
</li><li><a class='wikilink' title='Tutorials' href="Tutorials.htm" tppabs="http://www.opensips.org/Documentation/Tutorials">Advanced Tutorials</a>
</li><li><a class='wikilink' title='TipsFAQ' href="TipsFAQ.htm" tppabs="http://www.opensips.org/Documentation/TipsFAQ">Tips &amp; FAQ</a>
</li><li><a class='wikilink' title='Migration' href="Migration.htm" tppabs="http://www.opensips.org/Documentation/Migration">Version Migration</a>
</li><li><a class='wikilink' title='Webinars' href="Webinars.htm" tppabs="http://www.opensips.org/Documentation/Webinars">OpenSIPS Webinars</a>
</li><li><a class='wikilink' title='Troubleshooting' href="Troubleshooting.htm" tppabs="http://www.opensips.org/Documentation/Troubleshooting">Troubleshooting</a>
</li><li><a class='wikilink' title='Tools' href="Tools.htm" tppabs="http://www.opensips.org/Documentation/Tools">OpenSIPS Tools</a>
</li><li><a class='wikilink' title='Development-Tutorials' href="Development-Tutorials.htm" tppabs="http://www.opensips.org/Documentation/Development-Tutorials">Devel Tutorial</a>
</li></ul><div class='vspace'></div>
</td>
<!--/PageLeftFmt-->
      <td id='wikibody' valign='top'>
<!--PageTitleFmt-->
        
<!--PageText-->
<div id='wikitext'>
<h2 class='wikiaction'>Documentation.Script-Format-1-5 History</h2>
  <p><a href="Script-Format-1-5-action=diff&source=n&minor=y.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-5?action=diff&source=n&minor=y">Show minor edits</a> - <a href="Script-Format-1-5-action=diff&source=y&minor=n.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-5?action=diff&source=y&minor=n">Show changes to markup</a></p>
  <div id='wikidiff'>
      <div class='diffbox'><div class='difftime'>August 05, 2013, at 02:58 PM 
        by <span class='diffauthor' title='109.99.235.212'>109.99.235.212</span> - </div>
        <div class='difftype'>Changed line 4 from:</div>
        <div class='diffdel'><p><span style='font-size:83%'> Page for other versions: <a class='wikilink' title='Script-Format' href="Script-Format-2-2.htm" tppabs="http://www.opensips.org/Documentation/Script-Format">devel</a> <a class='wikilink' title='Script Format - ver 1.9' href="Script-Format-1-9.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-9">1.9</a> <a class='wikilink' title='Script Format - ver 1.8' href="Script-Format-1-8.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-8">1.8</a> old versions: <a class='wikilink' title='Script Format - ver 1.7' href="Script-Format-1-7.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-7">1.7</a> <a class='wikilink' title='Script Format - ver 1.6' href="Script-Format-1-6.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-6">1.6</a> 1.5 <a class='wikilink' title='Script Format - ver 1.4' href="Script-Format-1-4.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-4">1.4</a> </span>
</p>
</div>
        <div class='difftype'>to:</div>
        <div class='diffadd'><p>(:allVersions Script-Format 1.5:)
</p>
</div></div>
      <div class='diffrestore'><a href="javascript:if(confirm(%27http://www.opensips.org/Documentation/Script-Format-1-5?action=edit&restore=diff:1375707481:1369822808:&preview=y  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Documentation/Script-Format-1-5?action=edit&restore=diff:1375707481:1369822808:&preview=y%27" tppabs="http://www.opensips.org/Documentation/Script-Format-1-5?action=edit&restore=diff:1375707481:1369822808:&preview=y">Restore</a></div>
      <div class='diffbox'><div class='difftime'>May 29, 2013, at 12:20 PM 
        by <span class='diffauthor' title='109.99.235.212'>109.99.235.212</span> - </div>
        <div class='difftype'>Changed line 10 from:</div>
        <div class='diffdel'><table width='100%'><tr ><td  align='left'><a class='createlinktext' rel='nofollow' 
    href="javascript:if(confirm(%27http://www.opensips.org/Documentation/Generating-Configs-1-5?action=edit  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Documentation/Generating-Configs-1-5?action=edit%27" tppabs="http://www.opensips.org/Documentation/Generating-Configs-1-5?action=edit">Prev</a><a rel='nofollow' 
    class='createlink' href="javascript:if(confirm(%27http://www.opensips.org/Documentation/Generating-Configs-1-5?action=edit  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Documentation/Generating-Configs-1-5?action=edit%27" tppabs="http://www.opensips.org/Documentation/Generating-Configs-1-5?action=edit">?</a></td><td  align='right'><a class='wikilink' title='Core Parameters - ver 1.5' href="Script-CoreParameters-1-5.htm" tppabs="http://www.opensips.org/Documentation/Script-CoreParameters-1-5">Next</a></td></tr>
</table>
</div>
        <div class='difftype'>to:</div>
        <div class='diffadd'><table width='100%'><tr ><td  align='left'><a class='wikilink' title='Configuration File - ver 1.5' href="Configure-File-1-5.htm" tppabs="http://www.opensips.org/Documentation/Configure-File-1-5">Prev</a></td><td  align='right'><a class='wikilink' title='Core Parameters - ver 1.5' href="Script-CoreParameters-1-5.htm" tppabs="http://www.opensips.org/Documentation/Script-CoreParameters-1-5">Next</a></td></tr>
</table>
</div></div>
      <div class='diffrestore'><a href="Script-Format-1-5-action=edit&restore=diff-1369822808-1369765456-&preview=y.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-5?action=edit&restore=diff:1369822808:1369765456:&preview=y">Restore</a></div>
      <div class='diffbox'><div class='difftime'>May 28, 2013, at 08:24 PM 
        by <span class='diffauthor' title='109.99.235.212'>109.99.235.212</span> - </div>
        <div class='difftype'>Changed line 4 from:</div>
        <div class='diffdel'><p><span style='font-size:83%'> Page for other versions: <a class='wikilink' title='Script-Format' href="Script-Format-2-2.htm" tppabs="http://www.opensips.org/Documentation/Script-Format">devel</a> <a class='wikilink' title='Script Format - ver 1.9' href="Script-Format-1-9.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-9">1.9</a> <a class='wikilink' title='Script Format - ver 1.8' href="Script-Format-1-8.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-8">1.8</a> old versions : <a class='wikilink' title='Script Format - ver 1.7' href="Script-Format-1-7.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-7">1.7</a> <a class='wikilink' title='Script Format - ver 1.6' href="Script-Format-1-6.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-6">1.6</a> 1.5 <a class='wikilink' title='Script Format - ver 1.4' href="Script-Format-1-4.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-4">1.4</a> </span>
</p>
</div>
        <div class='difftype'>to:</div>
        <div class='diffadd'><p><span style='font-size:83%'> Page for other versions: <a class='wikilink' title='Script-Format' href="Script-Format-2-2.htm" tppabs="http://www.opensips.org/Documentation/Script-Format">devel</a> <a class='wikilink' title='Script Format - ver 1.9' href="Script-Format-1-9.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-9">1.9</a> <a class='wikilink' title='Script Format - ver 1.8' href="Script-Format-1-8.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-8">1.8</a> old versions: <a class='wikilink' title='Script Format - ver 1.7' href="Script-Format-1-7.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-7">1.7</a> <a class='wikilink' title='Script Format - ver 1.6' href="Script-Format-1-6.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-6">1.6</a> 1.5 <a class='wikilink' title='Script Format - ver 1.4' href="Script-Format-1-4.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-4">1.4</a> </span>
</p>
</div></div>
      <div class='diffrestore'><a href="Script-Format-1-5-action=edit&restore=diff-1369765456-1369764701-&preview=y.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-5?action=edit&restore=diff:1369765456:1369764701:&preview=y">Restore</a></div>
      <div class='diffbox'><div class='difftime'>May 28, 2013, at 08:11 PM 
        by <span class='diffauthor' title='109.99.235.212'>109.99.235.212</span> - </div>
        <div class='difftype'>Added lines 1-93:</div>
        <div class='diffadd'><h5>Documentation -&gt; <a class='wikilink' title='Manuals' href="Manuals.htm" tppabs="http://www.opensips.org/Documentation/Manuals">Manuals</a> -&gt; <a class='wikilink' title='OpenSIPS Manual - 1.5 ver' href="Manual-1-5.htm" tppabs="http://www.opensips.org/Documentation/Manual-1-5">Manual 1.5</a> -&gt; Script Format</h5>
<p>(:title Script Format - ver 1.5 :)
</p><hr />
<p><span style='font-size:83%'> Page for other versions: <a class='wikilink' title='Script-Format' href="Script-Format-2-2.htm" tppabs="http://www.opensips.org/Documentation/Script-Format">devel</a> <a class='wikilink' title='Script Format - ver 1.9' href="Script-Format-1-9.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-9">1.9</a> <a class='wikilink' title='Script Format - ver 1.8' href="Script-Format-1-8.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-8">1.8</a> old versions : <a class='wikilink' title='Script Format - ver 1.7' href="Script-Format-1-7.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-7">1.7</a> <a class='wikilink' title='Script Format - ver 1.6' href="Script-Format-1-6.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-6">1.6</a> 1.5 <a class='wikilink' title='Script Format - ver 1.4' href="Script-Format-1-4.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-4">1.4</a> </span>
</p>
<p class='vspace'><br />
</p><table width='100%'><tr ><td  align='center'><span  style='color: #185662;'><span style='font-size:120%'><strong>Script Format 1.5</strong></span></span></td></tr>
</table>
<div class='vspace'></div><table width='100%'><tr ><td  align='left'><a class='createlinktext' rel='nofollow' 
    href="javascript:if(confirm(%27http://www.opensips.org/Documentation/Generating-Configs-1-5?action=edit  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Documentation/Generating-Configs-1-5?action=edit%27" tppabs="http://www.opensips.org/Documentation/Generating-Configs-1-5?action=edit">Prev</a><a rel='nofollow' 
    class='createlink' href="javascript:if(confirm(%27http://www.opensips.org/Documentation/Generating-Configs-1-5?action=edit  \n\nThis file was not retrieved by Teleport Pro, because it was unavailable, or its retrieval was aborted, or the project was stopped too soon.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Documentation/Generating-Configs-1-5?action=edit%27" tppabs="http://www.opensips.org/Documentation/Generating-Configs-1-5?action=edit">?</a></td><td  align='right'><a class='wikilink' title='Core Parameters - ver 1.5' href="Script-CoreParameters-1-5.htm" tppabs="http://www.opensips.org/Documentation/Script-CoreParameters-1-5">Next</a></td></tr>
</table><hr />
<p class='vspace'>The OpenSIPs configuration script has three main logical parts :
</p>
<div class='vspace'></div><ol><li>global parameters 
</li><li>modules section
</li><li>routing logic
</li></ol><div class='vspace'></div><hr />
<h4>Global parameters</h4>
<p>Usually, in the first part, you declare the <a class='wikilink' title='Core Parameters - ver 1.5' href="Script-CoreParameters-1-5.htm" tppabs="http://www.opensips.org/Documentation/Script-CoreParameters-1-5">OpenSIPS global parameters</a> - these global or core parameters are affecting the OpenSIPS core and possible the modules.
</p>
<p class='vspace'>Configuring the network listeners, available transport protocols, forking (and number of processes), the logging and other global stuff is provided by these global parameters.
</p>
<p class='vspace'>Example:
</p>
<div class='vspace'></div><pre class='escaped'>
disable_tcp = yes
listen = udp:192.168.2.10:5060
listen = udp:192.168.2.10:5070
fork = yes
children = 4
log_stderror = no
</pre>
<div class='vspace'></div><hr />
<h4>Modules section</h4>
<p>In regards to the OpenSIPS modules,the modules that are to be loaded (no module is loaded by default) are specified by using the directive <strong>loadmodule</strong>. Modules are to be specified by name and an optional path (to the <em>.so</em> file). If no path is provided (and just the name of the module), the default path will be assumed for locating the loading the module (default path is <em>/usr/lib/opensips/modules</em> if not other one configured at <a class='createlinktext' rel='nofollow' 
    href="Compile-And-Install-1-5-action=edit.htm" tppabs="http://www.opensips.org/Documentation/Compile-And-Install-1-5?action=edit">compile time</a><a rel='nofollow' 
    class='createlink' href="Compile-And-Install-1-5-action=edit.htm" tppabs="http://www.opensips.org/Documentation/Compile-And-Install-1-5?action=edit">?</a>. For configuring a different path, either the path is pushed directly with the module name (to get control per module) or it can be globally (for all modules) configured via the <strong>mpath</strong> global parameter.<br /><br />Once the modules are loaded, the parameters of the modules may be set using the <strong>modparam</strong> directive - to list of available parameters for each module, the type of parameter value (integer or string) can be found in the <a class='wikilink' title='Modules - ver 1.5' href="Modules-1-5.htm" tppabs="http://www.opensips.org/Documentation/Modules-1-5">documentation of the modules</a>, the <em>Parameters</em> section.
</p>
<p class='vspace'>Examples:
</p><pre class='escaped'>
loadmodule "modules/mi_datagram/mi_datagram.so"
modparam("mi_datagram", "socket_name", "udp:127.0.0.1:4343")
modparam("mi_datagram", "children_count", 3)
</pre>
<p class='vspace'>or 
</p>
<div class='vspace'></div><pre class='escaped'>
mpath="/usr/local/opensips_proxy/lib/modules"
loadmodule "mi_datagram.so"
modparam("mi_datagram", "socket_name", "udp:127.0.0.1:4343")
modparam("mi_datagram", "children_count", 3)
loadmodule "mi_fifo.so"
modparam("mi_fifo", "fifo_name", "/tmp/opensips_fifo")
</pre>
<div class='vspace'></div><hr />
<h4>Routing logic</h4>
<p>The routing logic is actually a sum of routes (script routes) that contain the OpenSIPS logic for routing SIP traffic. The description of <strong>OpenSIPS behavior in relation to the SIP traffic</strong> is done via this routes.<br /><br />There are different types of routes : 
</p><ol><li><strong>top routes</strong> - routes that are directly triggered by OpenSIPs when some events occurs (like SIP request received, SIP reply received, transaction failed, etc)
</li><li><strong>sub-routes</strong> - routes that are triggered / used from other routes in script.
</li></ol><p><br />What are the existing <strong>top routes</strong>, when they are triggered, what kind of SIP messages is handled, what SIP operations are allowed and other are documented in the <a class='wikilink' title='Types of routes - ver 1.5' href="Script-Routes-1-5.htm" tppabs="http://www.opensips.org/Documentation/Script-Routes-1-5">types of routes section</a>.<br /><br />The <strong>sub-routes</strong> have IDs and they are to be called from any other route (top or sub) in the script via their ID. The <strong>sub-routes</strong> may return a numerical code (avoid returning 0 value as this will terminate your whole script. The <strong>sub-routes</strong> are similar to functions / procedure in any programing language.
See the <a class='wikilink' title='Core Functions - ver 1.5' href="Script-CoreFunctions-1-5.htm#toc41" tppabs="http://www.opensips.org/Documentation/Script-CoreFunctions-1-5#toc41">description of the <em>route</em></a> directive.
</p>
<p class='vspace'>Example:
</p><pre class='escaped'>
route { # top route triggered on incoming SIP requests
   if ( route(10) ) {
      xlog("request $rm comes from GW\n");
   }
}

onreply_route { # top route triggered on incoming SIP replies
   if ( route(10 ) {
      xlog("reply $rc comes from GW\n");
   }
}

route[10] { #sub-route to test if src is a GW
   if ($si=='11.22.33.44' || $si=='11.22.33.45')
      return 1;
   return -1;
}
</pre>
</div></div>
      <div class='diffrestore'><a href="Script-Format-1-5-action=edit&restore=diff-1369764701-1369764701-&preview=y.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-5?action=edit&restore=diff:1369764701:1369764701:&preview=y">Restore</a></div></div></div>
  
<!--PageRightFmt--><!--/PageRightFmt--></td>
</tr></table>
<!--PageFooterFmt-->
  <div id='wikifoot'>
  <hr class="bottomline" /></td>
    <div class='footnav'>
	
      <a rel="nofollow" href="Script-Format-1-5-action=edit.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-5?action=edit">Edit</a> |
      <a rel="nofollow" href="Script-Format-1-5-action=diff.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-5?action=diff">History</a> |
      <a rel="nofollow" href="Script-Format-1-5-action=print.htm" tppabs="http://www.opensips.org/Documentation/Script-Format-1-5?action=print" target='_blank'>Print</a> |
      <a href="RecentChanges.htm" tppabs="http://www.opensips.org/Documentation/RecentChanges">Recent Changes</a> |
      <a href="javascript:if(confirm(%27http://www.opensips.org/Site/Search  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Site/Search%27" tppabs="http://www.opensips.org/Site/Search">Search</a></div>
    <div class='lastmod'>Page last modified on August 05, 2013, at 02:58 PM</div></div>
<!--HTMLFooter-->
</div>
</body>
</html>
