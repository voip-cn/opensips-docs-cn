<!DOCTYPE html 
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title>openSIPS | Documentation / Statistics Interface - 1.11  </title>
  <meta http-equiv='Content-Style-Type' content='text/css' />
  <link rel='stylesheet' href="opensips.css" tppabs="http://www.opensips.org/pub/skins/opensips/opensips.css" type='text/css' />
  <!--HTMLHeader--><style type='text/css'><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code.escaped { white-space: nowrap; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
span.anchor {
	float: left;
	font-size: 10px;
	margin-left: -10px;
	width: 10px;
    position:relative; top:-0.1em;
	text-align: center;
}
span.anchor a { text-decoration: none; }
span.anchor a:hover { text-decoration: underline; }
ol.toc { text-indent:-20px; list-style: none; }
ol.toc ol.toc { text-indent:-40px; }
div.tocfloat { font-size: smaller; margin-bottom: 10px;
    border-top: 1px dotted #555555; border-bottom: 1px dotted #555555;
    padding-top: 5px; padding-bottom: 5px; 
    width: 38%; float: right; margin-left: 10px; clear: right;
    margin-right:-13px; padding-right: 13px; padding-left: 13px;
    background-color: #eeeeee; }
div.toc { font-size: smaller; 
    padding: 4px; border: 1px dotted #cccccc;
    background: #f7f7f7;
    margin-bottom: 10px; }
  table.markup { border:2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  table.vert td.markup1 { border-bottom:1px solid #ccf; }
  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }
  table.markup caption { text-align:left; }
  div.faq p, div.faq pre { margin-left:2em; }
  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }
  div.faqtoc div.faq * { display:none; }
  div.faqtoc div.faq p.question 
    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }
  div.faqtoc div.faq p.question * { display:inline; }
  .editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }
 
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }

--></style><script type="text/javascript">
function toggle(obj) {
    var elstyle = document.getElementById(obj).style;
    var text    = document.getElementById(obj + "tog");
    if (elstyle.display == 'none') {
        elstyle.display = 'block';
        text.innerHTML = "hide";
    } else {
        elstyle.display = 'none';
        text.innerHTML = "show";
    }
}
</script>
  <link href="commentboxplus.css" tppabs="http://www.opensips.org/pub/commentboxplus/commentboxplus.css" rel='stylesheet' type='text/css' />
  <link rel='stylesheet' href="wsplus.css" tppabs="http://www.opensips.org/pub/wsplus/wsplus.css" 
    type='text/css' />
  <!--[if IE]><style type='text/css' media='screen'>
    body { behavior:url("csshover.htc")/*tpa=http://www.opensips.org/pub/wsplus/csshover.htc*/; }
    .rollover * { visibility: visible; }
  </style><![endif]-->
  <meta name='robots' content='index,follow' />

  <link rel="icon" type="image/png" href="http://opensips.org/favicon.png">
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','analytics.js'/*tpa=http://www.google-analytics.com/analytics.js*/,'ga');

  ga('create', 'UA-47615177-1', 'http://www.opensips.org/Documentation/opensips.org');
  ga('send', 'pageview');

	function resizeIframe(obj) {
	    obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
		  }

  </script>

</head>
<body>
<div id="main">
<!--PageHeaderFmt-->
  <div id='wikilogo'>
  <img class="motto" src="motto.jpg" tppabs="http://www.opensips.org/pub/skins/opensips/images/motto.jpg" width="328" height="40" alt="The new breed of communication engine.">
  <a href="javascript:if(confirm(%27http://www.opensips.org/  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/%27" tppabs="http://www.opensips.org/"><img class="logo" src="logo2.jpg" tppabs="http://www.opensips.org/pub/skins/opensips/images/logo2.jpg"
    alt='openSIPS' border='0' /></a>
 </div>
 <div id='wikihead'>
 <table border=0>
  <tr valign=top><td width=250>
   <p><a class='wikilink' title='Signup' href="javascript:if(confirm(%27http://www.opensips.org/Login/Signup?action=login  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Login/Signup?action=login%27" tppabs="http://www.opensips.org/Login/Signup?action=login">Login</a> | <a class='wikilink' title='Signup' href="javascript:if(confirm(%27http://www.opensips.org/Login/Signup  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Login/Signup%27" tppabs="http://www.opensips.org/Login/Signup">Register</a> 
</p>

  </td></tr>
  <tr><td width=250>
   <form action="http://www.opensips.org/">
   
    <input type='hidden' name='n' value='Documentation.Interface-Statistics-1-11' />
    <input type='hidden' name='action' value='search' />

    <input type='text' name='q' id='formsubmit' value='' class='inputbox searchbox' />
	<input type='submit' id='formbutton' class='inputbutton searchbutton' value=' ' /></form>
  </td></tr>
  </table>
 </div>

<!--/PageHeaderFmt-->
<div id="osTopNav" >
	<div id="osTopNavLeft">
	</div>

	<div id="osTopNavRight">
	</div>

	<ul id="osTopNavList">
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/About/About  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/About/About%27" tppabs="http://www.opensips.org/About/About" title="About">About</a>
		</li>
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/Downloads/Downloads  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Downloads/Downloads%27" tppabs="http://www.opensips.org/Downloads/Downloads" title="Download">Downloads</a>
		</li>
		<li>
			<a href="Manuals.htm" tppabs="http://www.opensips.org/Documentation/Manuals" title="Documentation">Documentation</a>
		</li>
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/Community/Foundation-Main  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Community/Foundation-Main%27" tppabs="http://www.opensips.org/Community/Foundation-Main" title="Community">Community</a>
		</li>
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/Development/Development  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Development/Development%27" tppabs="http://www.opensips.org/Development/Development" title="Development">Development</a>
		</li>
		<li>
			<a href="javascript:if(confirm(%27http://www.opensips.org/Support/Contact  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Support/Contact%27" tppabs="http://www.opensips.org/Support/Contact" title="Support">Support</a>
		</li>
	</ul>
</div>
<!--PageMenuFmt-->
<!--/PageMenuFmt-->
  <table width='100%' align="center" cellpadding='0' cellspacing='0' id='wikimid'>
    <tr>
<!--PageLeftFmt-->
      <td valign='top' bgcolor="#E2F8DA" id='wikileft'>
        <p class='sidehead'> <span  style='color: #185662;'> Documentation</span>
</p><ul><li><a class='wikilink' title='Manuals' href="Manuals.htm" tppabs="http://www.opensips.org/Documentation/Manuals">Manuals</a>
</li><li><a class='wikilink' title='Tutorials' href="Tutorials.htm" tppabs="http://www.opensips.org/Documentation/Tutorials">Advanced Tutorials</a>
</li><li><a class='wikilink' title='TipsFAQ' href="TipsFAQ.htm" tppabs="http://www.opensips.org/Documentation/TipsFAQ">Tips &amp; FAQ</a>
</li><li><a class='wikilink' title='Migration' href="Migration.htm" tppabs="http://www.opensips.org/Documentation/Migration">Version Migration</a>
</li><li><a class='wikilink' title='Webinars' href="Webinars.htm" tppabs="http://www.opensips.org/Documentation/Webinars">OpenSIPS Webinars</a>
</li><li><a class='wikilink' title='Troubleshooting' href="Troubleshooting.htm" tppabs="http://www.opensips.org/Documentation/Troubleshooting">Troubleshooting</a>
</li><li><a class='wikilink' title='Tools' href="Tools.htm" tppabs="http://www.opensips.org/Documentation/Tools">OpenSIPS Tools</a>
</li><li><a class='wikilink' title='Development-Tutorials' href="Development-Tutorials.htm" tppabs="http://www.opensips.org/Documentation/Development-Tutorials">Devel Tutorial</a>
</li></ul><div class='vspace'></div>
</td>
<!--/PageLeftFmt-->
      <td id='wikibody' valign='top'>
<!--PageTitleFmt-->
        
<!--PageText-->
<div id='wikitext'>
<h5>Documentation -&gt; <a class='wikilink' title='Manuals' href="Manuals.htm" tppabs="http://www.opensips.org/Documentation/Manuals">Manuals</a> -&gt; <a class='wikilink' title='OpenSIPS Manual - 1.11 ver' href="Manual-1-11.htm" tppabs="http://www.opensips.org/Documentation/Manual-1-11">Manual 1.11</a> -&gt; Statistics Interface</h5>
<hr />
<p><span style='font-size:83%'> Pages for other versions: <a class='wikilink' title='Statistics Interface - devel' href="Interface-Statistics-2-2.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-2-2">devel</a> <a class='wikilink' title='Statistics Interface - devel' href="Interface-Statistics-2-1.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-2-1">2.1</a> 1.11  Older versions: <a class='wikilink' title='Statistics Interface - ver 1.10' href="Interface-Statistics-1-10.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-1-10">1.10</a> <a class='wikilink' title='Statistics Interface - ver 1.9' href="Interface-Statistics-1-9.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-1-9">1.9</a> <a class='wikilink' title='Statistics Interface - ver 1.8' href="Interface-Statistics-1-8.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-1-8">1.8</a> <a class='wikilink' title='Statistics Interface - ver 1.7' href="Interface-Statistics-1-7.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-1-7">1.7</a> <a class='wikilink' title='Statistics Interface - ver 1.6' href="Interface-Statistics-1-6.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-1-6">1.6</a> <a class='wikilink' title='Statistics Interface - ver 1.5' href="Interface-Statistics-1-5.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-1-5">1.5</a> <a class='wikilink' title='Statistics Interface - ver 1.4' href="Interface-Statistics-1-4.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-1-4">1.4</a> </span>
</p>
<p class='vspace'><br />
</p><table width='100%'><tr ><td  align='center'><span  style='color: #185662;'><span style='font-size:120%'><strong>Statistics Interface v1.11</strong></span></span></td></tr>
</table>
<div class='vspace'></div><table width='100%'><tr ><td  align='left'><a class='wikilink' title='Core Events - 1.11' href="Interface-CoreEvents-1-11.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreEvents-1-11">Prev</a></td><td  align='right'><a class='wikilink' title='Core Statistics - 1.11' href="Interface-CoreStatistics-1-11.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-1-11">Next</a></td></tr>
</table><hr />
<p class='vspace'>The <strong>Statistics Interface</strong> is an OpenSIPS interface that provides access to various internal statistics of OpenSIPS. The statistic provide useful information about what is going on inside OpenSIPS - this can be used by external applications, for monitoring purposes, load evaluation, realtime integration with other services. The values of statistic variables are exclusively numerical.
</p>
<div class='vspace'></div><hr />
<h4>Overview</h4>
<p><strong>OpenSIPS</strong> typically provides two types of statistic variables:
</p><ol><li>counter like - variables that keep counting things that happened in OpenSIPS, like received requests, processed dialogs, failed DB queries, etc
</li><li>computed values - variables that are calculated in realtime, like how much memory is used, the current load, active dialogs, active transactions, etc
</li></ol><p class='vspace'>The statistic variables are not restart persistent, they all start with a 0 value (the counter like variables). The <em>counter like</em> statistics can also be reset (to 0 value) during OpenSIPS runtime.
</p>
<p class='vspace'>In OpenSIPS, the statistics variables are grouped in different sets, depending on their purposes or how is providing them. For example, the OpenSIPS core provides the <strong>shmem</strong>, <strong>load</strong>, <strong>net</strong>, etc groups, while each OpenSIPS module provides its own group (typically the group has the same name as the module).
</p>
<p class='vspace'>All available statistic variables are listed and documented : statistics provided <a class='wikilink' title='Core Statistics - 1.11' href="Interface-CoreStatistics-1-11.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreStatistics-1-11">by OpenSIPS core</a> or by <a class='wikilink' title='Modules - 1.11' href="Modules-1-11.htm" tppabs="http://www.opensips.org/Documentation/Modules-1-11">OpenSIPS modules</a> (see the Statistics chapter for each module).
</p>
<div class='vspace'></div><hr />
<h4>Usage</h4>
<p>To get access to the statistics you have to use the <a class='wikilink' title='Management Interface - 1.11' href="Interface-MI-1-11.htm" tppabs="http://www.opensips.org/Documentation/Interface-MI-1-11">MI interface</a> which provides (directly from OpenSIPS core) several MI functions for:<br /><br /><strong>Fetching the value</strong> of a statistic variable, of an entire group of variables or of all variables. The MI <a class='wikilink' title='Core MI Functions - 1.11' href="Interface-CoreMI-1-11.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreMI-1-11">get_statistics</a> command can be used here:
</p><pre class='escaped'>
   # get one statistic variable, by name
   &gt; opensipsctl fifo get_statistics rcv_requests
   &gt; core:rcv_requests = 3428
   &gt; opensipsctl fifo get_statistics real_used_size 
   &gt; shmem:real_used_size = 2951864

   # get various statistic variables, by list of names
   &gt; opensipsctl fifo get_statistics rcv_requests inuse_transactions
   &gt; core:rcv_requests = 453
   &gt; tm:inuse_transactions = 10


   # get all stats from a group
   &gt; opensipsctl fifo get_statistics shmem:
   &gt; shmem:total_size = 33554432
   &gt; shmem:used_size = 2897024
   &gt; shmem:real_used_size = 2951864
   &gt; shmem:max_used_size = 2952304
   &gt; shmem:free_size = 30602568
   &gt; shmem:fragments = 26

   # get all stats from OpenSIPS
   &gt; opensipsctl fifo get_statistics all
   &gt;...........
</pre>
<p><br /><strong>Reseting the value</strong> of a statistic variable (to 0 value), but only if it is counter-type variable.
</p><div class='round lrindent important' > 
<p>Reseting a computed-value statistic will be ignored and have no effect.
</p></div>
<pre> The MI <a class='wikilink' title='Core MI Functions - 1.11' href="Interface-CoreMI-1-11.htm" tppabs="http://www.opensips.org/Documentation/Interface-CoreMI-1-11">reset_statistics</a> command can be used here:
</pre><div class='vspace'></div><pre class='escaped'>
   # reset one statistic variable, by name
   &gt; opensipsctl fifo reset_statistics rcv_requests
</pre>
</div>
  
<!--PageRightFmt--><!--/PageRightFmt--></td>
</tr></table>
<!--PageFooterFmt-->
  <div id='wikifoot'>
  <hr class="bottomline" /></td>
    <div class='footnav'>
	
      <a rel="nofollow" href="Interface-Statistics-1-11-action=edit.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-1-11?action=edit">Edit</a> |
      <a rel="nofollow" href="Interface-Statistics-1-11-action=diff.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-1-11?action=diff">History</a> |
      <a rel="nofollow" href="Interface-Statistics-1-11-action=print.htm" tppabs="http://www.opensips.org/Documentation/Interface-Statistics-1-11?action=print" target='_blank'>Print</a> |
      <a href="RecentChanges.htm" tppabs="http://www.opensips.org/Documentation/RecentChanges">Recent Changes</a> |
      <a href="javascript:if(confirm(%27http://www.opensips.org/Site/Search  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?%27))window.location=%27http://www.opensips.org/Site/Search%27" tppabs="http://www.opensips.org/Site/Search">Search</a></div>
    <div class='lastmod'>Page last modified on March 20, 2014, at 07:59 PM</div></div>
<!--HTMLFooter-->
</div>
</body>
</html>
